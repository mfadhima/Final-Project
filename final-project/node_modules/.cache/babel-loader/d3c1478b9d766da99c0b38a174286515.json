{"ast":null,"code":"var _jsxFileName = \"C:\\\\Project\\\\My-Final-Project\\\\final-project\\\\src\\\\components\\\\ProductDetail.jsx\";\nimport React, { Component } from 'react';\nimport Axios from 'axios';\nimport { connect } from 'react-redux';\nconst URL_API = 'http://localhost:8888/';\n\nclass ProductDetail extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      products: null\n    };\n\n    this.getProductData = () => {\n      Axios.get(URL_API + \"products/productdetail/\".concat(this.props.match.params.id)).then(res => {\n        this.setState({\n          products: res.data[0]\n        });\n        console.log(this.state.products);\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.onAddToCart = () => {\n      let userId = this.props.userId;\n      let productId = this.state.products.id;\n      let productName = this.state.products.name;\n      let productDesc = this.state.products.desc;\n      let productPrice = this.state.products.price;\n      let productImage = this.state.products.image;\n      let quantity = 1;\n      Axios.get(URL_API + 'carts/checkcart', {\n        params: {\n          userId,\n          productId\n        }\n      }).then(res => {\n        if (res.data.length === 0) {\n          Axios.post(URL_API + 'carts/addtocart', {\n            productId,\n            productName,\n            productDesc,\n            productPrice,\n            productImage,\n            userId,\n            quantity\n          }).then(res2 => {\n            console.log(res2.data);\n          }).catch(err2 => {\n            console.log(err2);\n          });\n        }\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.getProductData();\n  }\n\n  render() {\n    if (this.state.products) {\n      let price = this.state.products.price;\n      let image = \"http://localhost:8888/\".concat(this.state.products.image);\n      return (// <div className='card col-5 my-5 mx-auto'>\n        //     <div className='card-header mt-2'>\n        //         <h2>{this.state.products.name}</h2>\n        //     </div>\n        //     <div className='card-body'>\n        //         <img className='card-img-top' alt=\"\" src={image} />\n        //         <h3>Name: {this.state.products.name}</h3>\n        //         <p>Description : {this.state.products.desc}</p>\n        //         <p>Harga : Rp {parseInt(price).toLocaleString('IN')}</p>\n        //     </div>\n        //     <button className=\"button-ku mb-3\">Add To Cart</button>\n        // </div>\n        React.createElement(\"div\", {\n          className: \"container mt-3\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-6\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          className: \"card-img-top\",\n          alt: \"\",\n          src: image,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"col-6\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }, React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }, this.state.products.name), React.createElement(\"h5\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        }, \"Description:\"), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }, this.state.products.desc), React.createElement(\"p\", {\n          style: {\n            fontWeight: \"bold\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90\n          },\n          __self: this\n        }, \"Price : Rp \", parseInt(price).toLocaleString('IN')), React.createElement(\"button\", {\n          onClick: this.onAddToCart,\n          className: \"button-ku mb-3\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }, \"Add To Cart\"))))\n      );\n    } else {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \"Loading\"));\n    }\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    userId: state.auth.id\n  };\n};\n\nexport default connect(mapStateToProps)(ProductDetail);","map":{"version":3,"sources":["C:\\Project\\My-Final-Project\\final-project\\src\\components\\ProductDetail.jsx"],"names":["React","Component","Axios","connect","URL_API","ProductDetail","state","products","getProductData","get","props","match","params","id","then","res","setState","data","console","log","catch","err","onAddToCart","userId","productId","productName","name","productDesc","desc","productPrice","price","productImage","image","quantity","length","post","res2","err2","componentDidMount","render","fontWeight","parseInt","toLocaleString","mapStateToProps","auth"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\r\nimport Axios from 'axios'\r\nimport {connect} from 'react-redux'\r\n\r\nconst URL_API = 'http://localhost:8888/'\r\n\r\nclass ProductDetail extends Component {\r\n    state = {\r\n        products: null\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getProductData()\r\n    }\r\n\r\n    getProductData = () => {\r\n        Axios.get(\r\n            URL_API + `products/productdetail/${this.props.match.params.id}`\r\n        ).then((res) => {\r\n            this.setState({products: res.data[0]})\r\n            console.log(this.state.products)\r\n        }).catch((err) => {\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    onAddToCart = () => {\r\n        let userId = this.props.userId\r\n        let productId = this.state.products.id\r\n        let productName = this.state.products.name\r\n        let productDesc = this.state.products.desc\r\n        let productPrice = this.state.products.price\r\n        let productImage = this.state.products.image\r\n        let quantity = 1\r\n\r\n        Axios.get(\r\n            URL_API + 'carts/checkcart',\r\n            {\r\n                params: {\r\n                    userId,\r\n                    productId\r\n                }\r\n            }\r\n        ).then((res) => {\r\n            if(res.data.length === 0) {\r\n                Axios.post(\r\n                    URL_API + 'carts/addtocart',\r\n                    {\r\n                        productId,\r\n                        productName,\r\n                        productDesc,\r\n                        productPrice,\r\n                        productImage,\r\n                        userId,\r\n                        quantity\r\n                    }\r\n                ).then((res2) => {\r\n                    console.log(res2.data)\r\n                }).catch((err2) => {\r\n                    console.log(err2)\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    render() {\r\n        if(this.state.products) {\r\n            let price = this.state.products.price\r\n            let image = `http://localhost:8888/${this.state.products.image}`\r\n            return (\r\n                // <div className='card col-5 my-5 mx-auto'>\r\n                //     <div className='card-header mt-2'>\r\n                //         <h2>{this.state.products.name}</h2>\r\n                //     </div>\r\n                //     <div className='card-body'>\r\n                //         <img className='card-img-top' alt=\"\" src={image} />\r\n                //         <h3>Name: {this.state.products.name}</h3>\r\n                //         <p>Description : {this.state.products.desc}</p>\r\n                //         <p>Harga : Rp {parseInt(price).toLocaleString('IN')}</p>\r\n                //     </div>\r\n                //     <button className=\"button-ku mb-3\">Add To Cart</button>\r\n                // </div>\r\n                <div className=\"container mt-3\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-6\"><img className='card-img-top' alt=\"\" src={image} /></div>\r\n                        <div className=\"col-6\">\r\n                            <h2>{this.state.products.name}</h2>\r\n                            <h5>Description:</h5>\r\n                            <p>{this.state.products.desc}</p>\r\n                            <p style={{fontWeight: \"bold\"}}>Price : Rp {parseInt(price).toLocaleString('IN')}</p>\r\n                            <button onClick={this.onAddToCart} className=\"button-ku mb-3\">Add To Cart</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )\r\n        } else {\r\n            return <div><h1 className='text-center'>Loading</h1></div>\r\n        }\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        userId: state.auth.id\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(ProductDetail)"]},"metadata":{},"sourceType":"module"}