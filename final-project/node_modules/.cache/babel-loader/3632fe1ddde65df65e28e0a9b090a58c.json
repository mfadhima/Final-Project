{"ast":null,"code":"var _jsxFileName = \"C:\\\\Project\\\\My-Final-Project\\\\final-project\\\\src\\\\components\\\\ManageProducts.jsx\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport Axios from 'axios';\nimport './ManageProducts.css';\nconst URL_API = 'http://localhost:8888/';\n\nclass ManageProducts extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      productName: '',\n      productDesc: '',\n      productPrice: 0,\n      productImage: null,\n      productData: [],\n      message: ''\n    };\n\n    this.onAddClick = () => {\n      if (!this.state.productName || !this.state.productDesc || !this.state.productPrice || !this.state.productImage) {\n        this.setState({\n          message: 'Please fill all forms..'\n        });\n      } else {\n        let fd = new FormData();\n        fd.append('products', this.state.productImage, this.state.productImage.name);\n        fd.append('name', this.state.productName);\n        fd.append('desc', this.state.productDesc);\n        fd.append('price', this.state.productPrice);\n        Axios.post(URL_API + 'products/addproduct', fd).then(res => {\n          console.log(res);\n          this.setState({\n            message: res\n          });\n        }).catch(err => {\n          console.log(err);\n        });\n      }\n    };\n\n    this.notification = () => {\n      if (!this.state.message) {\n        return null;\n      } else {\n        return React.createElement(\"div\", {\n          className: \"alert-ku alert-danger text-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45\n          },\n          __self: this\n        }, this.state.message);\n      }\n    };\n  }\n\n  render() {\n    if (this.props.role === 'administrator') {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        className: \"mt-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, \"Add new Product\"), React.createElement(\"table\", {\n        className: \"table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        required: true,\n        type: \"text\",\n        className: \"form-control\",\n        onChange: e => {\n          this.setState({\n            productName: e.target.value\n          });\n        },\n        placeholder: \"Product Name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      })), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        required: true,\n        type: \"text\",\n        className: \"form-control\",\n        onChange: e => {\n          this.setState({\n            productDesc: e.target.value\n          });\n        },\n        placeholder: \"Description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      })), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        required: true,\n        type: \"text\",\n        className: \"form-control\",\n        onChange: e => {\n          this.setState({\n            productPrice: e.target.value\n          });\n        },\n        placeholder: \"Price\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      })), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"file\",\n        accept: \"image/*\",\n        ref: \"uploadImage\",\n        hidden: true,\n        onChange: e => {\n          this.setState({\n            productImage: e.target.files[0]\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"button\",\n        value: \"Choose an image\",\n        className: \"button-ku\",\n        onClick: () => {\n          this.refs.uploadImage.click();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      })), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"button-ku\",\n        onClick: this.onAddClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"Add Product\"))))), this.notification(), React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"Our Products\"), React.createElement(\"table\", {\n        className: \"table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      })));\n    } else {\n      return React.createElement(Redirect, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      });\n    }\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    role: state.auth.role\n  };\n};\n\nexport default connect(mapStateToProps, {})(ManageProducts);","map":{"version":3,"sources":["C:\\Project\\My-Final-Project\\final-project\\src\\components\\ManageProducts.jsx"],"names":["React","Component","connect","Redirect","Axios","URL_API","ManageProducts","state","productName","productDesc","productPrice","productImage","productData","message","onAddClick","setState","fd","FormData","append","name","post","then","res","console","log","catch","err","notification","render","props","role","e","target","value","files","refs","uploadImage","click","mapStateToProps","auth"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\r\nimport {connect} from 'react-redux'\r\nimport {Redirect} from 'react-router-dom'\r\nimport Axios from 'axios'\r\n\r\nimport './ManageProducts.css'\r\n\r\nconst URL_API = 'http://localhost:8888/'\r\n\r\nclass ManageProducts extends Component {\r\n    state = {\r\n        productName: '',\r\n        productDesc: '',\r\n        productPrice: 0,\r\n        productImage: null,\r\n        productData: [],\r\n        message: ''\r\n    }\r\n\r\n    onAddClick = () => {\r\n        if(!this.state.productName || !this.state.productDesc || !this.state.productPrice || !this.state.productImage) {\r\n            this.setState({message: 'Please fill all forms..'})\r\n        } else {\r\n            let fd = new FormData()\r\n            fd.append('products', this.state.productImage, this.state.productImage.name)\r\n            fd.append('name', this.state.productName)\r\n            fd.append('desc', this.state.productDesc)\r\n            fd.append('price', this.state.productPrice)\r\n            Axios.post(\r\n                URL_API + 'products/addproduct', fd\r\n            ).then((res) => {\r\n                console.log(res)\r\n                this.setState({message: res})\r\n            }).catch((err) => {\r\n                console.log(err)\r\n            })\r\n        }\r\n    }\r\n\r\n    notification = () => {\r\n        if(!this.state.message) {\r\n            return null\r\n        } else {\r\n            return (\r\n                <div className=\"alert-ku alert-danger text-center\">{this.state.message}</div>\r\n            )\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if(this.props.role === 'administrator') {\r\n            return(\r\n                <div>\r\n                    <div className=\"container\">\r\n                        <h5 className=\"mt-3\">Add new Product</h5>\r\n                        <table className=\"table\">\r\n                            <tbody>\r\n                                <tr>\r\n                                    <td><input required type=\"text\" className=\"form-control\" onChange={(e) => {this.setState({productName: e.target.value})}} placeholder=\"Product Name\"/></td>\r\n                                    <td><input required type=\"text\" className=\"form-control\" onChange={(e) => {this.setState({productDesc: e.target.value})}} placeholder=\"Description\"/></td>\r\n                                    <td><input required type=\"text\" className=\"form-control\" onChange={(e) => {this.setState({productPrice: e.target.value})}} placeholder=\"Price\"/></td>\r\n                                    <td>\r\n                                        <input\r\n                                            type=\"file\"\r\n                                            accept=\"image/*\"\r\n                                            ref=\"uploadImage\"\r\n                                            hidden\r\n                                            onChange={(e) => {this.setState({productImage: e.target.files[0]})}}\r\n                                        />\r\n                                        <input\r\n                                            type=\"button\"\r\n                                            value=\"Choose an image\"\r\n                                            className=\"button-ku\"\r\n                                            onClick={() => {this.refs.uploadImage.click()}}\r\n                                        />\r\n                                    </td>\r\n                                    <td><button className=\"button-ku\" onClick={this.onAddClick}>Add Product</button></td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                        {this.notification()}\r\n\r\n                        <h5>Our Products</h5>\r\n                        <table className=\"table\">\r\n\r\n                        </table>\r\n\r\n                    </div>\r\n                </div>\r\n            )\r\n        } else {\r\n            return <Redirect to=\"/\"/>\r\n        }\r\n    } \r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        role: state.auth.role\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {})(ManageProducts)"]},"metadata":{},"sourceType":"module"}